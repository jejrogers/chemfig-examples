% simple structure that shows joined rings and coloured atoms, as well as use of
% the \chemabove{}{} macro
\begin{struct}
\chemfig{
    *6(
        -
        =
        -
        (-\textcolor{N}{N}*6(
            -
            -
            -\textcolor{N}{N}(
                -[1]
                -[-1]
                -[1]
                -[-1]
                -[1]\textcolor{O}{O}
                -[-1]*6(
                    -
                    =
                    -
                    (*6(
                        -
                        -
                        -
                        (=\textcolor{O}{O})
                        -\textcolor{N}{\chemabove{N}{H}}
                        -
                        -[,,,,draw=none]
                    ))
                    =
                    -
                    =
                )
            )
            -
            -
            -))
        =
        (-\textcolor{Cl}{Cl})
        -
        (-\textcolor{Cl}{Cl})
        =
    )
}
\end{struct}

% structure showing the use of a single hook (?) to join distant atoms, in this
% case to make a ring structure not using the * ring options
% also shows how to alter colour, style and type of bonds
% shows the use of an invisible bond to place a stereocentre indicator
\begin{struct}
\chemfig{
    ?-[1.5,,,,t]
    -[-1,,,,t]
    -[0,,,,t](-[3,,,,t]\textcolor{Ot}{O}|\textcolor{Ot}{H})(
        -[-1,,,,t](
            -[-3]*6(
                -
                =
                -(
                    -[,,,,t]\textcolor{Ot}{O}
                    -[-1,,,,t]\textcolor{t}{C}|\textcolor{t}{H_3}
                )
                =
                -
                =
            )
        )
        (-[3,0.33,,,draw=none]\textcolor{t}{*})
        -[1]
        -[-1]\textcolor{N}{N}
        (-[-3,,,,t]\textcolor{t}{C}|\textcolor{t}{H_3})
        -[1,,,,t]\textcolor{t}{C}|\textcolor{t}{H_3}
    )
    <[-4.5,,,,t]
    -[5,,,,t,line width = 0.8ex, shorten <= -0.33ex, shorten >= -0.33ex]
    ?[,{<},{t}]
}
\end{struct}

% shows the use of wedge and dash bonds as well as the stereochemical marker
\begin{struct}
\chemfig{
    \textcolor{N}{N}~[1]
    -[1]*6(
        -
        =(*5(
            -
            -\textcolor{O}{O}
            -
            (-[-3.75,0.5,,,draw=none]\stereomarker{S})
            (<:[4]*6(
                -
                =
                -
                (-\textcolor{F}{F})
                =
                -
                =
            ))
            (
                <[1]
                -[-1]
                -[1]
                -[-1]\textcolor{N}{N}
                (-[-3]CH_3)
                -[1]CH_3
            )
            -
            -[,,,,draw=none]
        ))
        -
        =
        -
        =
    )
}
\end{struct}

% shows the basics of a scheme, including electron movement, arrows and reaction
% conditions, as well as aligning of molecules in a scheme
\begin{struct}
\schemestart
\chemfig{
    @{o1}*6(
        (-[-3]H)
        -[@{b1},,,,draw=none]@{e1}
        =[@{d1}]
        -[@{s1}]
        (~[@{t1}3]@{e2}\charge{90=\:}{\textcolor{N}{N}})
        -[,,,,draw=none]@{b2}
        -[,,,,draw=none]@{o2}
        (-[3]H)
        ~[@{t2}]
    )
}
\arrow(c1.base east--c2.base west){<=>[\cond{Δ}][][8.4pt]}
\chemleft[
\chemfig{
    *6(
        -
        -
        =
        =\charge{90=\:}{\textcolor{N}{N}}
        -
        =
    )
}
\chemright]
\arrow(c2.base east--c3.base west){->[\cond{$±$\ce{H+}}][][8.4pt]}
\chemfig{
    *6(
        -
        =
        -
        =\charge{90=\:}{\textcolor{N}{N}}
        -
        =
    )
}
\schemestop
\chemmove[
    arrows = {-Triangle[scale = 0.67]},
    shorten <= 0.77ex,
    shorten >= 0.1ex,
    line width = 0.1em,
    r
]{
    \draw (d1) .. controls +(100:1em) and +(80:1em) .. (b1);
    \draw (t1) .. controls +(180:1em) and +(-180:1em) .. (s1);
    \draw (t2) .. controls +(-20:1em) and +(-90:1em) .. (b2);
}
\chemmove[
    arrows = {-},
    shorten <= 0.1ex,
    shorten >= 0.1ex,
    line width = 0.1em,
    rt,
    dashed
]{
    \draw (o1) -- (e1);
    \draw (o2) -- (e2);
}
\end{struct}

% shows the use of the \chemmove{} macro to draw on top of the structure,
% as well as some tricks using invisible bonds to generate correctly placed
% nodes for ligands with hapticity greater than unity
% shows how to draw lone pairs on an atom
\begin{struct}
\chemfig{
    \textcolor{Fe}{Fe}
    (-[3,1.25,,,]@{top}
    -[3,0.4,,,draw=none](
        [1]-[-0.5,,,,]
        (-[0](=[2]\textcolor{O}{O})-[-2]C|H_3)
        <[-4,0.67]?[1]
    )(
        -[-5.5]
        <[-2,0.67]
        ?[1,,{line width=0.8ex},{shorten <= -0.33ex},{shorten >= -0.33ex}]
    ))
    (-[-3,1.15,,,]@{bottom}
    -[-3,0.5,,,draw=none](
        >[0.5,,,,]
        -[4,0.67]?[2]
    )(
        >[5.5,,,,]
        (-[6](=[4]\textcolor{O}{O})-[-4,,,2]H_3|C)
        -[2,0.67]
        ?[2,,]
    ))
}
\chemmove[line width = 0.1em]{
    \draw (top) ellipse (1em and 0.4em);
    \draw (bottom) ellipse (1em and 0.4em);
}
\end{struct}

% an example showing the more complex use of mutiple hooks to generate a multi-
% cyclic, non-planar structure
\begin{struct}
\chemfig{
    ?[1]-[2](
        -[3]
        -[0.5]?[2]
        -[3]\charge{90=\:}{\textcolor{N}{N}}|\textcolor{N}{H_2}
    )
        (-[-5.5]H_3|C)
    -[-0.5]
    -[0.5]
        (-[3]?[2])
        (-[-0.5]C|H_3)
    -[-4]
    -[5.5]
    ?[1]
        (-[3]?[2])
}
\end{struct}

% structure showing an octahedral metal complex
% utilises invisible bonds for alignment and hooks for creating bonds
% shows how to construct a dative bond
\begin{struct}
\schemestart
\chemfig{
    @{Ir}Ir-[-1,2,,,draw=none]@{C1}*6(
        -?[rings]
        =
        -
        =
        -(-[,,,,draw=none]*6(
            -
            =
            -
            =(-[,,,,]*6(
                -
                =
                -
                =(-[,,,,draw=none]*6(
                    -
                    =
                    -
                    =(-[,,,,]*6(
                        -
                        =
                        -
                        =(-[,,,,draw=none]*6(
                            -
                            =
                            -
                            =(?[rings])
                            -@{N1}\textcolor{N}{N}
                            =
                        ))
                        -@{C3}
                        =
                    ))
                    -@{N2}\textcolor{N}{N}
                    =
                ))
                -@{C2}
                =
            ))
            -@{N3}\textcolor{N}{N}
            =
        ))
        =
    )
}
\schemestop
\chemmove[
    arrows = {Triangle[scale = 0.67]-},
    shorten <= 0.33ex,
    shorten >= 0.33ex,
    line width = 0.1em
]{
    \draw (Ir) -- (N1);
    \draw (Ir) -- (N2);
    \draw (Ir) -- (N3);
}
\chemmove[
    arrows = {-},
    shorten <= 0.33ex,
    line width = 0.1em
]{
    \draw (Ir) -- (C1);
    \draw (Ir) -- (C2);
    \draw (Ir) -- (C3);
}
\end{struct}

% polymer example using the \polymerdelim maco
\begin{struct}
\chemfig{
    H_3|C-[@{open}1,,2]
    -[-1]
        (-[-3]*6(
            -
            =
            -
            =
            -
            =
        ))
    -[@{close}1,,,1]C|H_3
}
\polymerdelim[
    delimiters = {[]},
    height = 0.84em,
    depth = 0.84em,
    indice = {\text{\emph{n}}}
]{open}{close}
\end{struct}

% shows how structural elements can be rotate to the desired angle -- i.e.
% aligning a 7 membered ring
\begin{struct}
\chemfig{
    [:12.857]*7(
        -\textcolor{S}{S}
        -(*6(
            -
            =
            -
            =
            -
            =
        ))
        -
        -(
            -[2]\textcolor{N}{N}*6(
                -[0]
                -
                -\textcolor{N}{N}(
                    -
                    -[0]
                    -[-2]\textcolor{O}{O}
                    -[0]
                    -[-2]
                    -[-4]\textcolor{O}{H}|\textcolor{O}{O}
                )
                -
                -
                -\textcolor{N}{N}
            )
        )
        =\textcolor{N}{N}
        -(*6(
            -
            =
            -
            =
            -
            =
        ))
        -
    )
}
\end{struct}

% complex cage or bi/tricyclic structures using hooks and absolute angles
\begin{struct}
\chemfig{
    *6(
        =
        -
        =(
            -(
                <[3]
                -[5,,,2]\textcolor{O}{H}|\textcolor{O}{O}
            )
            -[-1](
                =[-3]\textcolor{O}{O}
            )
            -[1]\textcolor{O}{O}
            -[3]
            ?[1]-[0.5]
            -[-0.5](
                -[-3]?[2]
                -[1.5]\textcolor{O}{O}?[3]
            )
            -[2]\textcolor{N}{N}(
                -[2.5]C|H_3
            )
            -[-5.5](
                -[-3]
                (?[3])
                ?[2]
            )
            -[5.5]
            ?[1]
        )
        -
        =
        -
    )
}
\end{struct}

% classic caffeine-like example (8-chlorotheophylline)
\begin{struct}
\chemfig{
    \textcolor{O}{O}=[1]
    *6(
        -\textcolor{N}{N}(-C|H_3)
        -(*5(
            -\textcolor{N}{N}
            =(-\textcolor{Cl}{Cl})
            -\chemabove{\textcolor{N}{N}}{\textcolor{N}{H}}
            -
            =
        ))
        -
        -(=\textcolor{O}{O})
        -\textcolor{N}{N}(-[,,,2]H_3|C)
        -
    )
}
\end{struct}

% shows shifted double bonds
\begin{struct}
\chemfig{
    *6(
        -(
            -\textcolor{O}{O}
            -[-1]C|H_3
        )
        =
        -(
            -
            -[-1]
            =^[1]C|H_2
        )
        =
        -(*5(
            -\textcolor{O}{O}
            -
            -\textcolor{O}{O}
            -
            -
        ))
        =
    )
}
\end{struct}

% shows how to rotate elements of the structure as well as using relative
% rotation angles for bonds
\begin{struct}
\chemfig{
    [:-30]*6(
        -(*5(
            -\textcolor{N}{N}(
                -
                -[::-60]*6(
                    -
                    =
                    -
                    =
                    -
                    =
                )
            )
            -\textcolor{N}{N}
            =(
                -\textcolor{O}{O}
                -[::+60]
                -[::-60]
                -[::+60]
                -[::-60]\textcolor{N}{N}
                (-[::-60]C|H_3)
                -[::+60]C|H_3
            )
            -
            -
        ))
        =
        -
        =
        -
        =
    )
}
\end{struct}

% a more extreme nested ring example
\begin{struct}
\chemfig{
    *6(
        =
        -(*6(
            -
            =
            -(*6(
                -
                =
                -(*6(
                    -
                    =
                    -(*6(
                        -
                        =
                        -(*6(
                            -
                            =
                            -
                            -
                            -
                            =
                        ))
                        -
                        -
                        =
                    ))
                    -
                    -
                    =
                ))
                -
                -
                =
            ))
            -
            -
            =
        ))
        -
        -
        =
        -
    )
}
\end{struct}

% decarboxylation of a cyclic peroxyester
\begin{struct}
\schemestart
\chemfig{
    R^1
    >[0]
    -[@{co}0]\textcolor{O}{O}
    -[@{oo}3]\textcolor{O}{O}
    -[@{oc}6]
        (=[:135]\textcolor{O}{O})
    -[@{cc}-3]
    <:[-3]R^2
}
\arrow(c1.base east--c2.base west){<=>[\cond{$-$\ce{C}\textcolor{O}{\ce{O_2}}}][][18pt]}
\chemleft[
\chemfig{
    R^1
    -[1]
        (=[3]\textcolor{O}{O})
    -[-1]R^2
}
\chemright]
\arrow(c2.base east--c3.base west){->[\cond{$-$\emph{hν}}][][18pt]}
\chemfig{
    R^1
    -[1]
        (=[3]\textcolor{O}{O})
    -[-1]R^2
}
\schemestop
\chemmove[
    arrows = {-Triangle[scale = 0.67]},
    shorten <= 0.1ex,
    shorten >= 0.1ex,
    line width = 0.1em,
    r
]{
    \draw (oo) .. controls +(180:7.5pt) and +(-90:7.5pt) .. ([xshift=3pt]oc);
    \draw (cc) .. controls +(0:7.5pt) and +(90:7.5pt) .. ([xshift=3pt]co);
}
\chemmove{
    \node[xshift = 0.5ex] at (c2.north east) {$*$};
}
\end{struct}

% a more complex mechanism with multiple arrows and reagents
\begin{struct}
\schemestart
\chemfig{
    @{nitro}\textcolor{O}{O}
    =[@{d3}3]\charge{-150:3pt=⊕}{\textcolor{N}{N}}
        (-[5]\charge{90:3pt=⊖}{\textcolor{O}{O}})
    -[@{s2}1]*6(
        -
        =
        -@{para}
            (-\textcolor{Cl}{Cl})
        =[@{d1}]
        -[@{s1}]
        =[@{d2}]
    )
}
\arrow{0}[,0.2]
\chemfig{
    @{ohm}\charge{135:1pt=⊖}{\textcolor{O}{O}}\textcolor{O}{H}
}
\arrow{->}
\chemfig{
    @{om}\charge{-45:1pt=⊖}{\textcolor{O}{O}}
    -[@{is1}3]\charge{-150:3pt=⊕}{\textcolor{N}{N}}
        (-[5]\charge{90:3pt=⊖}{\textcolor{O}{O}})
    =[@{id1}1]*6(
        -
        =
        -
            (-[@{is4}2]@{cl}\textcolor{Cl}{Cl})
            (-[0]\textcolor{O}{O}|\textcolor{O}{H})
        -[@{is3}]
        =[@{id2}]
        -[@{is2}]
    )
}
\arrow{->}
\chemfig{
    \textcolor{O}{O}
    =[3]\charge{-150:3pt=⊕}{\textcolor{N}{N}}
        (-[5]\charge{90:3pt=⊖}{\textcolor{O}{O}})
    -[1]*6(
        -
        =
        -
            (-\textcolor{O}{O}|\textcolor{O}{H})
        =
        -
        =
    )
}
\arrow{0}[,0.2]
\chemfig{
    \charge{135:1pt=⊖}{\textcolor{Cl}{Cl}}
}
\schemestop
\chemmove[
    arrows = {-Triangle[scale = 0.67]},
    shorten <= 0.1ex,
    shorten >= 0.1ex,
    line width = 0.1em,
    r
]{
    \draw[shorten <= 2ex] (ohm) .. controls +(135:24pt) and +(0:24pt) .. (para);
    \draw (d1) .. controls +(45:30pt) and +(135:30pt) .. (s1);
    \draw (d2) .. controls +(180:6pt) and +(120:12pt) .. (s2);
    \draw[shorten <= 0.33ex] (d3) .. controls +(0:24pt) and +(-20:24pt) .. (nitro);
}
\chemmove[
    arrows = {-Triangle[scale = 0.67]},
    shorten <= 0.1ex,
    shorten >= 0.1ex,
    line width = 0.1em,
    r
]{
    \draw[shorten <= 1.5ex] (om) .. controls +(-30:24pt) and +(0:24pt) .. (is1);
    \draw[shorten <= 0.33ex] (id1) .. controls +(135:12pt) and +(170:12pt) .. (is2);
    \draw (id2) .. controls +(135:30pt) and +(45:30pt) .. (is3);
    \draw (is4) .. controls +(0:24pt) and +(10:24pt) .. (cl);
}
\end{struct}
